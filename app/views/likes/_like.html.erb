<% if !current_user?(micropost.user) %>
  <span class="like">
  <% if micropost.like?(current_user) %>
    <%= form_with(model: micropost.likes.find_by(user_id: current_user.id), method: :delete, remote: true) do |f| %>
        <%= button_tag class: "like_btn btn btn-outline-primary btn-sm" do %>
          <i class="fas fa-thumbs-up"></i>
          <%= micropost.likes_count %>
        <% end %>
    <% end %>
  <% else %>
    <%= form_with(model: micropost.likes.build, remote: true) do |f| %>
      <div><%= hidden_field_tag :micropost_id, micropost.id %></div>
        <%= button_tag class: "like_btn btn btn-outline-primary btn-sm" do %>
          <i class="far fa-thumbs-up"></i>
          <%= micropost.likes_count %>
        <% end %>
    <% end %>
  <% end %>
  </span>
<% end %>
